const e=customElements.get("home-assistant-main")?Object.getPrototypeOf(customElements.get("home-assistant-main")):Object.getPrototypeOf(customElements.get("hui-view")),t=e.prototype.html;function o(){return document.querySelector("hc-main")?document.querySelector("hc-main").hass:document.querySelector("home-assistant")?document.querySelector("home-assistant").hass:void 0}function n(e,t,o=null){if((e=new Event(e,{bubbles:!0,cancelable:!1,composed:!0})).detail=t||{},o)o.dispatchEvent(e);else{var n=function(){var e=document.querySelector("hc-main");return e?(e=(e=(e=e&&e.shadowRoot)&&e.querySelector("hc-lovelace"))&&e.shadowRoot)&&e.querySelector("hui-view")||e.querySelector("hui-panel-view"):(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=document.querySelector("home-assistant"))&&e.shadowRoot)&&e.querySelector("home-assistant-main"))&&e.shadowRoot)&&e.querySelector("app-drawer-layout partial-panel-resolver"))&&e.shadowRoot||e)&&e.querySelector("ha-panel-lovelace"))&&e.shadowRoot)&&e.querySelector("hui-root"))&&e.shadowRoot)&&e.querySelector("ha-app-layout"))&&e.querySelector("#view"))&&e.firstElementChild}();n&&n.dispatchEvent(e)}}e.prototype.css;let r=window.cardHelpers;const i=new Promise((async(e,t)=>{r&&e();const n=async()=>{r=await window.loadCardHelpers(),window.cardHelpers=r,e()};window.loadCardHelpers?n():window.addEventListener("load",(async()=>{!async function(){if(customElements.get("hui-view"))return!0;await customElements.whenDefined("partial-panel-resolver");const e=document.createElement("partial-panel-resolver");if(e.hass={panels:[{url_path:"tmp",component_name:"lovelace"}]},e._updateRoutes(),await e.routerOptions.routes.tmp.load(),!customElements.get("ha-panel-lovelace"))return!1;const t=document.createElement("ha-panel-lovelace");t.hass=o(),void 0===t.hass&&(await new Promise((e=>{window.addEventListener("connection-status",(t=>{console.log(t),e()}),{once:!0})})),t.hass=o()),t.panel={config:{mode:null}},t._fetchConfig()}(),window.loadCardHelpers&&n()}))}));function s(e,t){const o={type:"error",error:e,origConfig:t},r=document.createElement("hui-error-card");return customElements.whenDefined("hui-error-card").then((()=>{const e=document.createElement("hui-error-card");e.setConfig(o),r.parentElement&&r.parentElement.replaceChild(e,r)})),i.then((()=>{n("ll-rebuild",{},r)})),r}function l(e,t){if(!t||"object"!=typeof t||!t.type)return s(`No ${e} type configured`,t);let o=t.type;if(o=o.startsWith("custom:")?o.substr("custom:".length):`hui-${o}-${e}`,customElements.get(o))return function(e,t){let o=document.createElement(e);try{o.setConfig(JSON.parse(JSON.stringify(t)))}catch(e){o=s(e,t)}return i.then((()=>{n("ll-rebuild",{},o)})),o}(o,t);const r=s(`Custom element doesn't exist: ${o}.`,t);r.style.display="None";const l=setTimeout((()=>{r.style.display=""}),2e3);return customElements.whenDefined(o).then((()=>{clearTimeout(l),n("ll-rebuild",{},r)})),r}function a(e){return r?r.createCardElement(e):l("card",e)}var c="1.0.1";class u extends e{setConfig(e){const t=JSON.parse(JSON.stringify(e));let o;if(void 0!==t.card_type&&(o="card"),void 0!==t.element_type){if(void 0!==o)return void(this.element=a({type:"error",error:"Must specify only one of card_type, element_type or row_type.",origConfig:t}));o="element"}if(void 0!==t.row_type){if(void 0!==o)return void(this.element=a({type:"error",error:"Must specify only one of card_type, element_type or row_type.",origConfig:t}));o="row"}switch(o){case"card":t.type=t.card_type,delete t.card_type,this.element=a(t);break;case"element":t.type=t.element_type,delete t.element_type,this.element=function(e){return r?r.createHuiElement(e):l("element",e)}(t);break;case"row":t.type=t.row_type,"default"===t.type&&(t.type=void 0),delete t.row_type,this.element=function(e){if(r)return r.createRowElement(e);const t=new Set(["call-service","cast","conditional","divider","section","select","weblink"]),o={alert:"toggle",automation:"toggle",climate:"climate",cover:"cover",fan:"toggle",group:"group",input_boolean:"toggle",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",remote:"toggle",scene:"scene",script:"script",sensor:"sensor",timer:"timer",switch:"toggle",vacuum:"toggle",water_heater:"climate",input_datetime:"input-datetime",none:void 0};if(!e)return s("Invalid configuration given.",e);if("string"==typeof e&&(e={entity:e}),"object"!=typeof e||!e.entity&&!e.type)return s("Invalid configuration given.",e);const n=e.type||"default";return t.has(n)||n.startsWith("custom:")?l("row",e):l("entity-row",{type:o[e.entity?e.entity.split(".",1)[0]:"none"]||"text",...e})}(t);break;default:this.element=a({type:"error",error:"Must specify card_type, element_type or row_type.",origConfig:t})}}set hass(e){this.element.hass=e}createRenderRoot(){return this}get shadowRoot(){return this.element.shadowRoot}render(){return t`${this.element}`}}customElements.get("hui-element")||(customElements.define("hui-element",u),console.info(`%cHUI-ELEMENT ${c} IS INSTALLED`,"color: green; font-weight: bold",""));
